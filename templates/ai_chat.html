<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat - SereneSpace</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .typing-indicator {
            display: none;
            padding: 15px 20px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 20px;
            max-width: fit-content;
            align-items: center;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            height: 8px;
            width: 8px;
            background: #6c757d;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dots span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes typing {

            0%,
            80%,
            100% {
                transform: scale(0.8);
                opacity: 0.5;
            }

            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
            padding: 0 20px;
        }

        .suggestion-chip {
            background: #e3f2fd;
            color: #1976d2;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .suggestion-chip:hover {
            background: #1976d2;
            color: white;
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            padding: 10px 20px;
            margin-top: 10px;
        }

        .quick-action-btn {
            background: #f5f5f5;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            background: #e0e0e0;
        }

        .message-time {
            font-size: 11px;
            color: #999;
            margin-top: 5px;
            text-align: right;
        }

        .ai-message-bubble.user .message-time {
            text-align: left;
        }
    </style>
</head>

<body>
    <div class="animated-bg"></div>

    <main class="main-content">
        <div class="ai-chat-container">
            <div class="ai-chat-header">
                <button onclick="window.location.href='/community'"
                    style="position:absolute; left:20px; top:20px; background:#fff; color:#2D3748; border:none; padding:8px 15px; border-radius:8px; cursor:pointer;">
                    ‚Üê Back
                </button>
                <i class="fa-solid fa-robot"></i> AI Companion - Serenity
            </div>

            <div class="messages-area" id="aiChatMessagesArea">
                <div class="ai-message-bubble ai">
                    <div class="ai-message-avatar">ü§ñ</div>
                    <div class="ai-message-content">
                        <div class="message-text">
                            Hi there! I'm Serenity, your AI companion. I'm here to listen, support, and help you
                            navigate your mental wellness journey. How are you feeling today?
                        </div>
                        <div class="message-time" id="initialTime"></div>
                    </div>
                </div>
            </div>

            <div class="suggestion-chips" id="suggestionChips">
                <button class="suggestion-chip" onclick="sendSuggestion('I\'m feeling stressed')">I'm feeling
                    stressed</button>
                <button class="suggestion-chip" onclick="sendSuggestion('I\'m having trouble sleeping')">Sleep
                    issues</button>
                <button class="suggestion-chip" onclick="sendSuggestion('I feel anxious')">Feeling anxious</button>
                <button class="suggestion-chip" onclick="sendSuggestion('I\'m feeling sad today')">Feeling sad</button>
            </div>

            <div class="typing-indicator" id="typingIndicator">
                <div class="ai-message-avatar">ü§ñ</div>
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <div class="message-input-area">
                <input type="text" id="aiMessageInput" placeholder="Share what's on your mind...">
                <button id="sendAiMessageBtn"><i class="fa-solid fa-paper-plane"></i></button>
            </div>

            <div class="quick-actions">
                <button class="quick-action-btn" onclick="sendSuggestion('Tell me about breathing exercises')">ü´Å
                    Breathing</button>
                <button class="quick-action-btn" onclick="sendSuggestion('I need help with meditation')">üßò
                    Meditation</button>
                <button class="quick-action-btn" onclick="sendSuggestion('Can you help me with journaling?')">üìù
                    Journal</button>
                <button class="quick-action-btn" onclick="window.location.href='/emergency'">üÜò Crisis</button>
            </div>

            <div class="language-selector">
                <label for="languageSelect">Language:</label>
                <select id="languageSelect">
                    <option value="en">English</option>
                    <option value="hi">Hindi (‡§π‡§ø‡§Ç‡§¶‡•Ä)</option>
                    <option value="ur">Urdu (ÿßÿ±ÿØŸà)</option>
                    <option value="ks">Kashmiri (‡§ï‡•â‡§∂‡•Å‡§∞)</option>
                    <option value="dg">Dogri (‡§°‡•ã‡§ó‡§∞‡•Ä)</option>
                </select>
            </div>
        </div>
    </main>

    <script>
        const aiChatMessagesArea = document.getElementById('aiChatMessagesArea');
        const aiMessageInput = document.getElementById('aiMessageInput');
        const sendAiMessageBtn = document.getElementById('sendAiMessageBtn');
        const languageSelect = document.getElementById('languageSelect');
        const typingIndicator = document.getElementById('typingIndicator');
        const suggestionChips = document.getElementById('suggestionChips');

        // Set initial timestamp
        document.getElementById('initialTime').textContent = new Date().toLocaleTimeString();

        // Conversation context to make responses more natural
        let conversationContext = {
            previousTopics: [],
            userMood: null,
            sessionStartTime: new Date(),
            messageCount: 0,
            userName: null
        };

        // Advanced AI Response System
        class MentalHealthAI {
            constructor() {
                this.responses = {
                    // Stress-related responses
                    stress: {
                        patterns: ['stress', 'stressed', 'overwhelm', 'pressure', 'burden', 'tension', '‡§§‡§®‡§æ‡§µ', 'ÿ™ŸÜÿßÿ§', '⁄àÿ®ÿß ÿ§'],
                        responses: [
                            "I hear that you're feeling stressed right now. That's completely understandable - stress is our mind's way of responding to challenges. Can you tell me what's been weighing on your mind lately?",
                            "Stress can feel overwhelming, but you're taking a positive step by reaching out. Sometimes just talking about what's stressing us can help lighten the load. What's been the biggest source of stress for you recently?",
                            "I'm sorry you're going through a stressful time. Remember, you've handled difficult situations before, and you have the strength to get through this too. Would you like to try a quick stress-relief technique together?",
                            "Feeling stressed is your body's natural response to challenging situations. Let's work on this together. Have you noticed any particular triggers that tend to increase your stress levels?",
                            "I can sense the weight you're carrying right now. Stress affects us all differently, but there are ways to manage it. Would you like to explore some coping strategies, or would you prefer to talk about what's causing these feelings?"
                        ],
                        followUp: [
                            "Try this: Take a deep breath in for 4 counts, hold for 4, then exhale for 6. This activates your body's relaxation response.",
                            "Here's a quick grounding technique: Name 5 things you can see, 4 you can touch, 3 you can hear, 2 you can smell, and 1 you can taste.",
                            "Remember, it's okay to take breaks. Your mental health is just as important as your physical health.",
                            "Would you like me to guide you through a brief mindfulness exercise? It can help create some space between you and your stressful thoughts."
                        ]
                    },

                    anxiety: {
                        patterns: ['anxious', 'anxiety', 'worry', 'nervous', 'panic', 'fear', 'scared', '‡§ö‡§ø‡§Ç‡§§‡§æ', 'ÿ®€í ⁄Ü€åŸÜ€å', 'ŸÅ⁄©ÿ±'],
                        responses: [
                            "Anxiety can feel really intense and overwhelming. I want you to know that what you're experiencing is valid, and you're not alone in this. Can you describe what the anxiety feels like for you right now?",
                            "I understand you're feeling anxious. Anxiety often comes with physical sensations too - racing heart, tight chest, or restlessness. Are you experiencing any of these symptoms?",
                            "Thank you for sharing this with me. Anxiety is more common than you might think, and there are effective ways to manage it. What tends to trigger these anxious feelings for you?",
                            "Feeling anxious can be exhausting. Your mind might be racing with 'what if' thoughts. Let's try to slow things down together. Are you in a safe, comfortable place right now?",
                            "Anxiety has a way of making everything feel urgent and threatening. But right now, in this moment, you're safe. Let's focus on bringing you back to the present. Can you tell me about your surroundings?"
                        ],
                        followUp: [
                            "Try the 5-4-3-2-1 grounding technique: identify 5 things you see, 4 you can touch, 3 you hear, 2 you smell, 1 you taste.",
                            "Let's try box breathing: breathe in for 4, hold for 4, out for 4, hold for 4. Repeat this cycle.",
                            "Remember: anxiety is temporary. You've gotten through anxious moments before, and you'll get through this one too.",
                            "Would it help to visit our breathing exercises page? Sometimes guided breathing can provide immediate relief."
                        ]
                    },

                    sadness: {
                        patterns: ['sad', 'depressed', 'down', 'low', 'empty', 'hopeless', 'lonely', 'hurt', '‡§¶‡•Å‡§ñ', 'ÿßÿØÿßÿ≥', 'ÿ∫ŸÖ'],
                        responses: [
                            "I'm really glad you felt comfortable sharing this with me. Feeling sad is a natural human emotion, and it's okay to sit with these feelings. You don't have to carry this alone. What's been making you feel this way?",
                            "It takes courage to acknowledge when we're struggling with sadness. Your feelings are completely valid. Sometimes sadness comes and goes like waves - are you experiencing it that way, or does it feel more constant?",
                            "I hear the sadness in your words, and I want you to know that I'm here to listen without judgment. Sadness can feel isolating, but reaching out like this shows real strength. Can you tell me more about what's going on?",
                            "Sadness can feel heavy and overwhelming sometimes. It's important to remember that feeling sad doesn't make you weak - it makes you human. Have you been able to talk to anyone else about how you're feeling?",
                            "Thank you for trusting me with these feelings. When we're sad, it can be hard to see beyond the current moment, but feelings do change and evolve. What usually helps you feel a little better when you're going through tough times?"
                        ],
                        followUp: [
                            "Sometimes gentle activities can help when we're sad: a warm bath, listening to music, or just being outside for a few minutes.",
                            "Remember that it's okay to not be okay sometimes. Healing isn't linear, and every small step counts.",
                            "Would you like to explore some of our community support features? Sometimes connecting with others who understand can be comforting.",
                            "If these feelings persist or get worse, please consider reaching out to a mental health professional. You deserve support."
                        ]
                    },

                    sleep: {
                        patterns: ['sleep', 'insomnia', 'tired', 'exhausted', 'can\'t sleep', 'sleeping', 'sleepy', '‡§®‡•Ä‡§Ç‡§¶', 'ŸÜ€åŸÜÿØ'],
                        responses: [
                            "Sleep issues can be really frustrating and affect everything else in your life. I understand how exhausting it can be when you can't get good rest. How long have you been having trouble with sleep?",
                            "Good sleep is so important for our mental and physical wellbeing. It sounds like you're struggling with this right now. Are you having trouble falling asleep, staying asleep, or both?",
                            "Sleep problems often go hand-in-hand with stress and anxiety. It becomes a cycle where poor sleep makes us more stressed, and stress makes it harder to sleep. Does this sound familiar to you?",
                            "I hear you're having sleep difficulties. This is more common than you might think, especially during stressful periods. Can you tell me about your evening routine? Sometimes small changes can make a big difference.",
                            "Not getting enough quality sleep can affect our mood, concentration, and overall wellbeing. You're taking the right step by addressing this. What does your sleep environment look like?"
                        ],
                        followUp: [
                            "Try creating a wind-down routine: dim lights, no screens 1 hour before bed, maybe some gentle stretching or reading.",
                            "Keep your bedroom cool, dark, and quiet. Consider blackout curtains or a white noise machine if needed.",
                            "Avoid caffeine after 2 PM and try not to eat large meals close to bedtime.",
                            "Would you like to try our guided meditation or breathing exercises? These can help prepare your mind for sleep."
                        ]
                    },

                    general: {
                        greetings: ['hello', 'hi', 'hey', 'good morning', 'good evening', 'namaste', '‡§∏‡§≤‡§æ‡§Æ', '‡§Ü‡§¶‡§æ‡§¨'],
                        responses: [
                            "Hello! I'm so glad you're here. I'm Serenity, and I'm here to support you on your mental wellness journey. How are you feeling today?",
                            "Hi there! Welcome to our safe space. I'm here to listen and help however I can. What brings you here today?",
                            "Hello! It's wonderful to meet you. I'm here to provide support and be a caring companion. How has your day been treating you?",
                            "Hey! I'm really happy you decided to reach out. Sometimes taking that first step to talk about how we're feeling is the hardest part. What's on your mind?",
                            "Hello and welcome! I'm Serenity, your AI companion. I'm here to listen without judgment and offer support. How are you doing right now?"
                        ]
                    },

                    help: {
                        patterns: ['help', 'support', 'don\'t know', 'confused', 'lost', '‡§Æ‡§¶‡§¶', 'ŸÖÿØÿØ'],
                        responses: [
                            "I'm here to help you in any way I can. Sometimes it helps to start by just sharing what's on your mind, even if it feels jumbled or unclear. There's no pressure to have it all figured out.",
                            "Asking for help is actually a sign of strength, not weakness. I'm glad you reached out. We can take this one step at a time. What feels most pressing for you right now?",
                            "I hear that you're looking for support, and I want you to know that you've come to the right place. We can work through whatever you're facing together. Where would you like to start?",
                            "It's completely normal to feel unsure about where to begin when we're struggling. That's okay. I'm here to help guide you through this. Can you tell me a little about what's been on your mind lately?",
                            "Thank you for reaching out for help. That takes courage. I'm here to listen and support you. Even if you're not sure exactly what kind of help you need, we can explore that together."
                        ],
                        followUp: [
                            "Remember, you can also explore other parts of our app: breathing exercises, community support, or professional counseling resources.",
                            "If you're in crisis or having thoughts of self-harm, please reach out to our emergency resources immediately.",
                            "Take your time. There's no rush. I'm here to listen at whatever pace feels comfortable for you.",
                            "Would it help to try a specific activity like journaling or guided meditation? Sometimes taking action can help clarify our thoughts."
                        ]
                    }
                };

                this.motivationalQuotes = [
                    "You are braver than you believe, stronger than you seem, and smarter than you think.",
                    "Healing doesn't mean the damage never existed. It means the damage no longer controls your life.",
                    "Your mental health is a priority. Your happiness is essential. Your self-care is a necessity.",
                    "It's okay to not be okay. It's not okay to stay that way without seeking help.",
                    "Progress, not perfection. Every small step forward is still a step in the right direction."
                ];

                this.checkInQuestions = [
                    "How are you feeling emotionally right now, on a scale of 1-10?",
                    "What's one thing that brought you a moment of peace today?",
                    "Have you been taking care of your basic needs - eating, sleeping, staying hydrated?",
                    "Is there anything specific that's been weighing on your mind?",
                    "What's one small thing you could do for yourself today?"
                ];
            }

            generateResponse(userMessage, language = 'en') {
                const lowerMessage = userMessage.toLowerCase();
                conversationContext.messageCount++;

                // Check for crisis keywords first
                if (this.containsCrisisKeywords(lowerMessage)) {
                    return this.getCrisisResponse();
                }

                // Identify the primary topic
                const topic = this.identifyTopic(lowerMessage);

                // Generate contextual response
                let response = this.getContextualResponse(topic, userMessage, lowerMessage);

                // Add follow-up if appropriate
                if (Math.random() > 0.6) {
                    response += "\n\n" + this.getFollowUp(topic);
                }

                // Translate if needed
                if (language !== 'en') {
                    response = this.translateResponse(response, language);
                }

                // Update conversation context
                if (topic) {
                    conversationContext.previousTopics.push(topic);
                    if (conversationContext.previousTopics.length > 5) {
                        conversationContext.previousTopics.shift();
                    }
                }

                return response;
            }

            identifyTopic(message) {
                for (const [topic, data] of Object.entries(this.responses)) {
                    if (topic === 'general') continue;
                    if (data.patterns && data.patterns.some(pattern => message.includes(pattern))) {
                        return topic;
                    }
                }

                // Check for greetings
                if (this.responses.general.greetings.some(greeting => message.includes(greeting))) {
                    return 'greeting';
                }

                return null;
            }

            getContextualResponse(topic, originalMessage, lowerMessage) {
                if (topic === 'greeting') {
                    const responses = this.responses.general.responses;
                    return responses[Math.floor(Math.random() * responses.length)];
                }

                if (topic && this.responses[topic]) {
                    const responses = this.responses[topic].responses;
                    let response = responses[Math.floor(Math.random() * responses.length)];

                    // Add personal touch based on conversation context
                    if (conversationContext.messageCount > 3) {
                        const personalizations = [
                            "I've been listening to what you've shared, and I want you to know that ",
                            "As we continue talking, I'm noticing that ",
                            "Building on what you've told me, "
                        ];
                        if (Math.random() > 0.7) {
                            response = personalizations[Math.floor(Math.random() * personalizations.length)] + response.toLowerCase();
                        }
                    }

                    return response;
                }

                // Default empathetic responses for unrecognized input
                const defaultResponses = [
                    "I hear you, and I want you to know that what you're experiencing matters. Can you tell me more about what's going on?",
                    "Thank you for sharing that with me. It sounds like you have a lot on your mind. I'm here to listen and support you through this.",
                    "I may not have all the answers, but I'm here to listen and support you. Sometimes just talking through our thoughts and feelings can be helpful. What's been on your mind lately?",
                    "It sounds like you're going through something difficult right now. I'm here to provide a safe space for you to express yourself. Can you share more about how you're feeling?",
                    "I appreciate you opening up to me. Everyone's experience is unique, and I want to better understand yours. What would be most helpful for you right now?"
                ];

                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }

            getFollowUp(topic) {
                if (topic && this.responses[topic] && this.responses[topic].followUp) {
                    const followUps = this.responses[topic].followUp;
                    return followUps[Math.floor(Math.random() * followUps.length)];
                }

                const generalFollowUps = [
                    "Is there anything specific you'd like to talk about or explore further?",
                    "How are you feeling about what we've discussed so far?",
                    "Would you like to try any of our other resources, like breathing exercises or meditation?",
                    "Remember, I'm here whenever you need someone to listen."
                ];

                return generalFollowUps[Math.floor(Math.random() * generalFollowUps.length)];
            }

            containsCrisisKeywords(message) {
                const crisisKeywords = [
                    'suicide', 'kill myself', 'end it all', 'harm myself', 'cut myself',
                    'want to die', 'better off dead', 'no point living', 'hurt myself'
                ];
                return crisisKeywords.some(keyword => message.includes(keyword));
            }

            getCrisisResponse() {
                return "I'm very concerned about what you've shared. Your life has value and meaning, and there are people who want to help you. Please reach out to a crisis helpline immediately - you can find emergency resources in our app. You don't have to go through this alone. Would you like me to direct you to our emergency resources page?";
            }

            translateResponse(response, language) {
                if (language === 'en') return response;

                const translations = {
                    'hi': {
                        // Stress responses
                        "I hear that you're feeling stressed right now. That's completely understandable - stress is our mind's way of responding to challenges. Can you tell me what's been weighing on your mind lately?": "‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§Ö‡§≠‡•Ä ‡§§‡§®‡§æ‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§Æ‡§ù ‡§Æ‡•á‡§Ç ‡§Ü‡§§‡§æ ‡§π‡•à - ‡§§‡§®‡§æ‡§µ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§Æ‡§® ‡§ï‡§æ ‡§ö‡•Å‡§®‡•å‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§™‡•ç‡§∞‡§§‡§ø ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡§æ ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§π‡•à‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§® ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§¨‡§æ‡§§ ‡§π‡•à?",
                        "Stress can feel overwhelming, but you're taking a positive step by reaching out. Sometimes just talking about what's stressing us can help lighten the load. What's been the biggest source of stress for you recently?": "‡§§‡§®‡§æ‡§µ ‡§≠‡§æ‡§∞‡•Ä ‡§≤‡§ó ‡§∏‡§ï‡§§‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§Æ‡§æ‡§Ç‡§ó‡§®‡§æ ‡§è‡§ï ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ï‡§¶‡§Æ ‡§π‡•à‡•§ ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§Ö‡§™‡§®‡•á ‡§§‡§®‡§æ‡§µ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§®‡§æ ‡§π‡•Ä ‡§¨‡•ã‡§ù ‡§ï‡§Æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡§®‡§æ‡§µ ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§ï‡§æ‡§∞‡§£ ‡§ï‡•ç‡§Ø‡§æ ‡§∞‡§π‡§æ ‡§π‡•à?",

                        // Anxiety responses  
                        "Anxiety can feel really intense and overwhelming. I want you to know that what you're experiencing is valid, and you're not alone in this. Can you describe what the anxiety feels like for you right now?": "‡§ö‡§ø‡§Ç‡§§‡§æ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§§‡•Ä‡§µ‡•ç‡§∞ ‡§î‡§∞ ‡§≠‡§æ‡§∞‡•Ä ‡§≤‡§ó ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§ ‡§Æ‡•à‡§Ç ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ú‡§æ‡§®‡•á‡§Ç ‡§ï‡§ø ‡§ú‡•ã ‡§Ü‡§™ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç ‡§µ‡§π ‡§µ‡•à‡§ß ‡§π‡•à, ‡§î‡§∞ ‡§Ü‡§™ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§Ö‡§ï‡•á‡§≤‡•á ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ö‡§≠‡•Ä ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§ï‡•à‡§∏‡•Ä ‡§≤‡§ó‡§§‡•Ä ‡§π‡•à?",
                        "I understand you're feeling anxious. Anxiety often comes with physical sensations too - racing heart, tight chest, or restlessness. Are you experiencing any of these symptoms?": "‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§∂‡§æ‡§∞‡•Ä‡§∞‡§ø‡§ï ‡§∏‡§Ç‡§µ‡•á‡§¶‡§®‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§≠‡•Ä ‡§Ü‡§§‡•Ä ‡§π‡•à - ‡§§‡•á‡§ú‡§º ‡§¶‡§ø‡§≤ ‡§ï‡•Ä ‡§ß‡§°‡§º‡§ï‡§®, ‡§∏‡•Ä‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§ï‡§°‡§º‡§®, ‡§Ø‡§æ ‡§¨‡•á‡§ö‡•à‡§®‡•Ä‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•ã‡§à ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?",

                        // Sadness responses
                        "I'm really glad you felt comfortable sharing this with me. Feeling sad is a natural human emotion, and it's okay to sit with these feelings. You don't have to carry this alone. What's been making you feel this way?": "‡§Æ‡•Å‡§ù‡•á ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§ñ‡•Å‡§∂‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§Ü‡§™‡§®‡•á ‡§Æ‡•á‡§∞‡•á ‡§∏‡§æ‡§• ‡§Ø‡§π ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡§®‡§æ ‡§â‡§ö‡§ø‡§§ ‡§∏‡§Æ‡§ù‡§æ‡•§ ‡§â‡§¶‡§æ‡§∏ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§®‡§æ ‡§è‡§ï ‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§Æ‡§æ‡§®‡§µ‡•Ä‡§Ø ‡§≠‡§æ‡§µ‡§®‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§á‡§® ‡§≠‡§æ‡§µ‡§®‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∞‡§π‡§®‡§æ ‡§†‡•Ä‡§ï ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•ã ‡§Ø‡§π ‡§Ö‡§ï‡•á‡§≤‡•á ‡§®‡§π‡•Ä‡§Ç ‡§∏‡§π‡§®‡§æ ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•ã ‡§ê‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à?",

                        // Sleep responses
                        "Sleep issues can be really frustrating and affect everything else in your life. I understand how exhausting it can be when you can't get good rest. How long have you been having trouble with sleep?": "‡§®‡•Ä‡§Ç‡§¶ ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§∞‡§æ‡§∂‡§æ‡§ú‡§®‡§ï ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•Ä ‡§π‡§∞ ‡§ö‡•Ä‡§ú‡§º ‡§ï‡•ã ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§ú‡§¨ ‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§Ü‡§∞‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§§‡•ã ‡§Ø‡§π ‡§ï‡§ø‡§§‡§®‡§æ ‡§•‡§ï‡§æ‡§ä ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡•ã ‡§ï‡§¨ ‡§∏‡•á ‡§®‡•Ä‡§Ç‡§¶ ‡§ï‡•Ä ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à?",

                        // General responses
                        "Hello! I'm so glad you're here. I'm Serenity, and I'm here to support you on your mental wellness journey. How are you feeling today?": "‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•Å‡§ù‡•á ‡§¨‡§π‡•Å‡§§ ‡§ñ‡•Å‡§∂‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§Ü‡§™ ‡§Ø‡§π‡§æ‡§Ç ‡§π‡•à‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§∏‡•á‡§∞‡•á‡§®‡§ø‡§ü‡•Ä ‡§π‡•Ç‡§Ç, ‡§î‡§∞ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§æ‡§• ‡§¶‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Ç ‡§π‡•Ç‡§Ç‡•§ ‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?",
                        "Hi there! Welcome to our safe space. I'm here to listen and help however I can. What brings you here today?": "‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§ ‡§Æ‡•à‡§Ç ‡§Ø‡§π‡§æ‡§Ç ‡§∏‡•Å‡§®‡§®‡•á ‡§î‡§∞ ‡§ú‡•ã ‡§≠‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡•Ç‡§Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•Ç‡§Ç‡•§ ‡§Ü‡§ú ‡§Ü‡§™‡§ï‡•ã ‡§Ø‡§π‡§æ‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§≤‡§æ‡§Ø‡§æ ‡§π‡•à?"
                    },

                    'ur': {
                        // Stress responses
                        "I hear that you're feeling stressed right now. That's completely understandable - stress is our mind's way of responding to challenges. Can you tell me what's been weighing on your mind lately?": "ŸÖ€å⁄∫ ÿ≥ŸÖÿ¨⁄æ ÿ±€Åÿß €ÅŸà⁄∫ ⁄©€Å ÿ¢Ÿæ ÿßÿ®⁄æ€å ÿ™ŸÜÿßÿ§ ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫€î €å€Å ÿ®ÿßŸÑ⁄©ŸÑ ÿ≥ŸÖÿ¨⁄æ ŸÖ€å⁄∫ ÿ¢ÿ™ÿß €Å€í - ÿ™ŸÜÿßÿ§ €ÅŸÖÿßÿ±€í ÿØŸÖÿßÿ∫ ⁄©ÿß ⁄Ü€åŸÑŸÜÿ¨ÿ≤ ⁄©ÿß ÿ¨Ÿàÿßÿ® ÿØ€åŸÜ€í ⁄©ÿß ÿ∑ÿ±€åŸÇ€Å €Å€í€î ⁄©€åÿß ÿ¢Ÿæ ÿ®ÿ™ÿß ÿ≥⁄©ÿ™€í €Å€å⁄∫ ⁄©€Å ÿ≠ÿßŸÑ €Å€å ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€í ÿØŸÑ Ÿæÿ± ⁄©€åÿß ÿ®ÿßÿ™ €Å€íÿü",
                        "Stress can feel overwhelming, but you're taking a positive step by reaching out. Sometimes just talking about what's stressing us can help lighten the load. What's been the biggest source of stress for you recently?": "ÿ™ŸÜÿßÿ§ ÿ®€Åÿ™ ÿ≤€åÿßÿØ€Å ŸÑ⁄Ø ÿ≥⁄©ÿ™ÿß €Å€íÿå ŸÑ€å⁄©ŸÜ ŸÖÿØÿØ ŸÖÿßŸÜ⁄ØŸÜÿß ÿß€å⁄© ŸÖÿ´ÿ®ÿ™ ŸÇÿØŸÖ €Å€í€î ⁄©ÿ®⁄æ€å ⁄©ÿ®⁄æ€å ÿµÿ±ŸÅ ÿßŸæŸÜ€í ÿ™ŸÜÿßÿ§ ⁄©€í ÿ®ÿßÿ±€í ŸÖ€å⁄∫ ÿ®ÿßÿ™ ⁄©ÿ±ŸÜÿß €Å€å ÿ®Ÿàÿ¨⁄æ ⁄©ŸÖ ⁄©ÿ± ÿ≥⁄©ÿ™ÿß €Å€í€î ÿ≠ÿßŸÑ €Å€å ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€í ŸÑ€å€í ÿ™ŸÜÿßÿ§ ⁄©ÿß ÿ≥ÿ® ÿ≥€í ÿ®⁄ëÿß ÿ∞ÿ±€åÿπ€Å ⁄©€åÿß ÿ±€Åÿß €Å€íÿü",

                        // Anxiety responses
                        "Anxiety can feel really intense and overwhelming. I want you to know that what you're experiencing is valid, and you're not alone in this. Can you describe what the anxiety feels like for you right now?": "ÿßÿ∂ÿ∑ÿ±ÿßÿ® ŸàÿßŸÇÿπ€å ÿ¥ÿØ€åÿØ ÿßŸàÿ± ÿ®€Åÿ™ ÿ≤€åÿßÿØ€Å ŸÑ⁄Ø ÿ≥⁄©ÿ™ÿß €Å€í€î ŸÖ€å⁄∫ ⁄Üÿß€Åÿ™ÿß €ÅŸà⁄∫ ⁄©€Å ÿ¢Ÿæ ÿ¨ÿßŸÜ€å⁄∫ ⁄©€Å ÿ¨Ÿà ÿ¢Ÿæ ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫ Ÿà€Å ÿØÿ±ÿ≥ÿ™ €Å€íÿå ÿßŸàÿ± ÿ¢Ÿæ ÿßÿ≥ ŸÖ€å⁄∫ ÿß⁄©€åŸÑ€í ŸÜ€Å€å⁄∫ €Å€å⁄∫€î ⁄©€åÿß ÿ¢Ÿæ ÿ®ÿ™ÿß ÿ≥⁄©ÿ™€í €Å€å⁄∫ ⁄©€Å ÿßÿ®⁄æ€å ÿ¢Ÿæ ⁄©€í ŸÑ€å€í ÿßÿ∂ÿ∑ÿ±ÿßÿ® ⁄©€åÿ≥ÿß ŸÑ⁄Ø ÿ±€Åÿß €Å€íÿü",
                        "I understand you're feeling anxious. Anxiety often comes with physical sensations too - racing heart, tight chest, or restlessness. Are you experiencing any of these symptoms?": "ŸÖ€å⁄∫ ÿ≥ŸÖÿ¨⁄æÿ™ÿß €ÅŸà⁄∫ ⁄©€Å ÿ¢Ÿæ Ÿæÿ±€åÿ¥ÿßŸÜ ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫€î ÿßÿ∂ÿ∑ÿ±ÿßÿ® ÿß⁄©ÿ´ÿ± ÿ¨ÿ≥ŸÖÿßŸÜ€å ÿßÿ≠ÿ≥ÿßÿ≥ÿßÿ™ ⁄©€í ÿ≥ÿßÿ™⁄æ ÿ®⁄æ€å ÿ¢ÿ™ÿß €Å€í - ÿ™€åÿ≤ ÿØŸÑ ⁄©€å ÿØ⁄æ⁄ë⁄©ŸÜÿå ÿ≥€åŸÜ€í ŸÖ€å⁄∫ ÿ¨⁄©⁄ëŸÜÿå €åÿß ÿ®€í ⁄Ü€åŸÜ€å€î ⁄©€åÿß ÿ¢Ÿæ ÿßŸÜ ŸÖ€å⁄∫ ÿ≥€í ⁄©Ÿàÿ¶€å ÿπŸÑÿßŸÖÿßÿ™ ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫ÿü",

                        // Sadness responses
                        "I'm really glad you felt comfortable sharing this with me. Feeling sad is a natural human emotion, and it's okay to sit with these feelings. You don't have to carry this alone. What's been making you feel this way?": "ŸÖÿ¨⁄æ€í ŸàÿßŸÇÿπ€å ÿÆŸàÿ¥€å €Å€í ⁄©€Å ÿ¢Ÿæ ŸÜ€í ŸÖ€åÿ±€í ÿ≥ÿßÿ™⁄æ €å€Å ÿ¥€åÿ¶ÿ± ⁄©ÿ±ŸÜÿß ŸÖŸÜÿßÿ≥ÿ® ÿ≥ŸÖÿ¨⁄æÿß€î ÿßÿØÿßÿ≥ ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ±ŸÜÿß ÿß€å⁄© ŸÇÿØÿ±ÿ™€å ÿßŸÜÿ≥ÿßŸÜ€å ÿ¨ÿ∞ÿ®€Å €Å€íÿå ÿßŸàÿ± ÿßŸÜ ÿßÿ≠ÿ≥ÿßÿ≥ÿßÿ™ ⁄©€í ÿ≥ÿßÿ™⁄æ ÿ±€ÅŸÜÿß Ÿπ⁄æ€å⁄© €Å€í€î ÿ¢Ÿæ ⁄©Ÿà €å€Å ÿß⁄©€åŸÑ€í ÿ®ÿ±ÿØÿßÿ¥ÿ™ ŸÜ€Å€å⁄∫ ⁄©ÿ±ŸÜÿß €Å€í€î ÿ¢Ÿæ ⁄©Ÿà ÿß€åÿ≥ÿß ⁄©€åŸà⁄∫ ŸÖÿ≠ÿ≥Ÿàÿ≥ €ÅŸà ÿ±€Åÿß €Å€íÿü",

                        // Sleep responses
                        "Sleep issues can be really frustrating and affect everything else in your life. I understand how exhausting it can be when you can't get good rest. How long have you been having trouble with sleep?": "ŸÜ€åŸÜÿØ ⁄©€í ŸÖÿ≥ÿßÿ¶ŸÑ ŸàÿßŸÇÿπ€å Ÿæÿ±€åÿ¥ÿßŸÜ ⁄©ŸÜ €ÅŸà ÿ≥⁄©ÿ™€í €Å€å⁄∫ ÿßŸàÿ± ÿ¢Ÿæ ⁄©€å ÿ≤ŸÜÿØ⁄Ø€å ⁄©€å €Åÿ± ⁄Ü€åÿ≤ ⁄©Ÿà ŸÖÿ™ÿßÿ´ÿ± ⁄©ÿ± ÿ≥⁄©ÿ™€í €Å€å⁄∫€î ŸÖ€å⁄∫ ÿ≥ŸÖÿ¨⁄æÿ™ÿß €ÅŸà⁄∫ ⁄©€Å ÿ¨ÿ® ÿ¢Ÿæ ⁄©Ÿà ÿß⁄Ü⁄æÿß ÿ¢ÿ±ÿßŸÖ ŸÜ€Å€å⁄∫ ŸÖŸÑÿ™ÿß ÿ™Ÿà €å€Å ⁄©ÿ™ŸÜÿß ÿ™⁄æ⁄©ÿß ÿØ€åŸÜ€í ŸàÿßŸÑÿß €ÅŸà ÿ≥⁄©ÿ™ÿß €Å€í€î ⁄©ÿ™ŸÜ€í ÿØŸÜ ÿ≥€í ÿ¢Ÿæ ⁄©Ÿà ŸÜ€åŸÜÿØ ⁄©€å Ÿæÿ±€åÿ¥ÿßŸÜ€å €Å€íÿü",

                        // General responses
                        "Hello! I'm so glad you're here. I'm Serenity, and I'm here to support you on your mental wellness journey. How are you feeling today?": "ÿßŸÑÿ≥ŸÑÿßŸÖ ÿπŸÑ€å⁄©ŸÖ! ŸÖÿ¨⁄æ€í ÿ®€Åÿ™ ÿÆŸàÿ¥€å €Å€í ⁄©€Å ÿ¢Ÿæ €å€Åÿß⁄∫ €Å€å⁄∫€î ŸÖ€å⁄∫ ÿ≥€åÿ±€åŸÜŸπ€å €ÅŸà⁄∫ÿå ÿßŸàÿ± ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€å ÿ∞€ÅŸÜ€å ÿµÿ≠ÿ™ ⁄©€í ÿ≥ŸÅÿ± ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©ÿß ÿ≥ÿßÿ™⁄æ ÿØ€åŸÜ€í ⁄©€í ŸÑ€å€í €å€Åÿß⁄∫ €ÅŸà⁄∫€î ÿ¢ÿ¨ ÿ¢Ÿæ ⁄©€åÿ≥ÿß ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫ÿü",
                        "Hi there! Welcome to our safe space. I'm here to listen and help however I can. What brings you here today?": "ÿ≥ŸÑÿßŸÖ! €ÅŸÖÿßÿ±€å ŸÖÿ≠ŸÅŸàÿ∏ ÿ¨⁄Ø€Å ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©ÿß ÿÆ€åÿ± ŸÖŸÇÿØŸÖ€î ŸÖ€å⁄∫ €å€Åÿß⁄∫ ÿ≥ŸÜŸÜ€í ÿßŸàÿ± ÿ¨Ÿà ÿ®⁄æ€å ŸÖÿØÿØ ⁄©ÿ± ÿ≥⁄©Ÿà⁄∫ ⁄©ÿ±ŸÜ€í ⁄©€í ŸÑ€å€í €ÅŸà⁄∫€î ÿ¢ÿ¨ ÿ¢Ÿæ ⁄©Ÿà €å€Åÿß⁄∫ ⁄©€åÿß ŸÑÿß€åÿß €Å€íÿü"
                    },

                    'ks': {
                        // Stress responses  
                        "I hear that you're feeling stressed right now. That's completely understandable - stress is our mind's way of responding to challenges. Can you tell me what's been weighing on your mind lately?": "‡§Ö‡§ú‡§º ‡§¨‡•Å‡§ú‡§æ‡§® ‡§õ‡•Å‡§∏ ‡§ú‡§º‡§ø ‡§§‡•Å‡§π‡§ø ‡§Ö‡§¨‡•á ‡§§‡§®‡§æ‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§® ‡§õ‡§ø‡•§ ‡§Ø‡•á ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§Æ‡§ù‡§®‡§ø ‡§Ø‡•ã‡§ó ‡§õ‡•Å - ‡§§‡§®‡§æ‡§µ ‡§õ‡•Å ‡§Ö‡§∏‡§ø ‡§¶‡§ø‡§Æ‡§æ‡§ó‡§ø ‡§ö‡•Å‡§®‡•å‡§§‡§ø‡§® ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡§ø‡§®‡•Å‡§ï ‡§§‡§∞‡•Ä‡§ï‡§æ‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§§‡•Å‡§π‡§ø ‡§¨‡§§‡§æ‡§µ‡§ø‡§• ‡§ú‡§º‡§ø ‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§Æ‡§Ç‡§ú‡§º ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶‡§ø ‡§¶‡§ø‡§Æ‡§æ‡§ó‡§ø ‡§Æ‡§Ç‡§ú‡§º ‡§ï‡•ç‡§Ø‡§æ ‡§ó‡§≤ ‡§õ‡§ø?",

                        // Anxiety responses
                        "Anxiety can feel really intense and overwhelming. I want you to know that what you're experiencing is valid, and you're not alone in this. Can you describe what the anxiety feels like for you right now?": "‡§´‡§º‡§ø‡§ï‡§∞ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡§Ç‡§ú‡§º ‡§§‡•Ä‡§µ‡•ç‡§∞ ‡§§ ‡§≠‡§æ‡§∞‡•Ä ‡§≤‡§ó‡§ø‡§• ‡§π‡•á‡§ï‡§ø‡•§ ‡§Ö‡§ú‡§º ‡§ö‡§æ‡§π‡§æ‡§® ‡§õ‡•Å‡§∏ ‡§ú‡§º‡§ø ‡§§‡•Å‡§π‡§ø ‡§ú‡§º‡§æ‡§®‡§ø‡§µ ‡§ú‡§º‡§ø ‡§ú‡§º‡§ø ‡§§‡•Å‡§π‡§ø ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§® ‡§õ‡§ø ‡§∏‡•á ‡§µ‡•à‡§ß ‡§õ‡•Å, ‡§§ ‡§§‡•Å‡§π‡§ø ‡§Ø‡§•‡§ø ‡§Æ‡§Ç‡§ú‡§º ‡§Ö‡§ï‡•á‡§≤‡•á ‡§®‡§ø ‡§õ‡§ø‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§§‡•Å‡§π‡§ø ‡§µ‡§£‡§ø‡§• ‡§π‡•á‡§ï‡§ø‡§µ ‡§ú‡§º‡§ø ‡§Ö‡§¨‡•á ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶‡§ø ‡§¨‡§æ‡§™ ‡§´‡§º‡§ø‡§ï‡§∞ ‡§ï‡•à‡§Ç‡§π ‡§≤‡§ó‡§æ‡§® ‡§õ‡§ø?",

                        // General responses
                        "Hello! I'm so glad you're here. I'm Serenity, and I'm here to support you on your mental wellness journey. How are you feeling today?": "‡§Ü‡§¶‡§æ‡§¨! ‡§Æ‡•á ‡§¨‡§°‡§º‡§ø ‡§ñ‡•Å‡§∂‡§ø ‡§õ‡§ø ‡§ú‡§º‡§ø ‡§§‡•Å‡§π‡§ø ‡§Ø‡•á‡§§‡•Ä ‡§õ‡§ø‡•§ ‡§Ö‡§ú‡§º ‡§õ‡•Å‡§∏ ‡§∏‡•á‡§∞‡•á‡§®‡§ø‡§ü‡•Ä, ‡§§ ‡§Ö‡§ú‡§º ‡§õ‡•Å‡§∏ ‡§Ø‡§§ ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶‡§ø ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§Æ‡§Ç‡§ú‡§º ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶ ‡§∏‡§æ‡§• ‡§¶‡§ø‡§®‡§ø ‡§¨‡§æ‡§™‡•§ ‡§Ü‡§ú‡§º ‡§ï‡§æ‡§≤ ‡§§‡•Å‡§π‡§ø ‡§ï‡•à‡§Ç‡§π ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§® ‡§õ‡§ø?"
                    },

                    'dg': {
                        // Stress responses
                        "I hear that you're feeling stressed right now. That's completely understandable - stress is our mind's way of responding to challenges. Can you tell me what's been weighing on your mind lately?": "‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù‡§¶‡§æ ‡§ê‡§Ç ‡§ï‡§ø ‡§§‡•Ç‡§Ç ‡§Ö‡§¨‡•ç‡§¨‡•à ‡§§‡§®‡§æ‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç‡•§ ‡§Ø‡•á ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§Æ‡§ù ‡§ö ‡§Ü‡§Ç‡§¶‡§æ ‡§ê - ‡§§‡§®‡§æ‡§µ ‡§ê ‡§Ö‡§∏‡§¶‡•á ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§¶‡§æ ‡§ö‡•Å‡§®‡•å‡§§‡§ø‡§Ø‡§æ‡§Ç ‡§¶‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•á‡§£‡•á ‡§¶‡§æ ‡§§‡§∞‡•Ä‡§ï‡§æ‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§§‡•Ç‡§Ç ‡§¶‡§∏‡•ç‡§∏‡•Ä ‡§∏‡§ï‡§¶‡§æ ‡§ï‡§ø ‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§ö ‡§§‡•á‡§∞‡•á ‡§Æ‡§® ‡§ö ‡§ï‡•Ä ‡§ó‡§≤‡•ç‡§≤ ‡§ê?",

                        // Anxiety responses  
                        "Anxiety can feel really intense and overwhelming. I want you to know that what you're experiencing is valid, and you're not alone in this. Can you describe what the anxiety feels like for you right now?": "‡§¨‡•á‡§ö‡•à‡§®‡•Ä ‡§¨‡§°‡§º‡•Ä ‡§§‡•á‡§ú‡§º ‡§§‡•á ‡§≠‡§æ‡§∞‡•Ä ‡§≤‡§ó‡•Ä ‡§∏‡§ï‡§¶‡•Ä ‡§ê‡•§ ‡§Æ‡•à‡§Ç ‡§ö‡§æ‡§π‡§Ç‡§¶‡§æ ‡§ê‡§Ç ‡§ï‡§ø ‡§§‡•Ç‡§Ç ‡§ú‡§æ‡§£‡•á ‡§ï‡§ø ‡§ú‡•á ‡§§‡•Ç‡§Ç ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç ‡§∏‡•á ‡§∏‡§π‡•Ä ‡§ê, ‡§§‡•á ‡§§‡•Ç‡§Ç ‡§á‡§∏ ‡§ö ‡§Ö‡§ï‡•á‡§≤‡§æ ‡§®‡•á‡§à‡§Ç ‡§ê‡§Ç‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§§‡•Ç‡§Ç ‡§¶‡§∏‡•ç‡§∏‡•Ä ‡§∏‡§ï‡§¶‡§æ ‡§ï‡§ø ‡§Ö‡§¨‡•ç‡§¨‡•à ‡§§‡•á‡§∞‡•á ‡§≤‡•á‡§à ‡§¨‡•á‡§ö‡•à‡§®‡•Ä ‡§ï‡§ø‡§Ç‡§Ø‡§æ ‡§≤‡§ó‡§¶‡•Ä ‡§ê?",

                        // General responses
                        "Hello! I'm so glad you're here. I'm Serenity, and I'm here to support you on your mental wellness journey. How are you feeling today?": "‡§∏‡§§ ‡§∂‡•ç‡§∞‡•Ä ‡§Ö‡§ï‡§æ‡§≤! ‡§Æ‡•à‡§ó‡•Ä ‡§¨‡§°‡§º‡•Ä ‡§ñ‡•Å‡§∂‡•Ä ‡§ê ‡§ï‡§ø ‡§§‡•Ç‡§Ç ‡§á‡§§‡•ç‡§•‡•à ‡§ê‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§∏‡•á‡§∞‡•á‡§®‡§ø‡§ü‡•Ä ‡§ê‡§Ç, ‡§§‡•á ‡§Æ‡•à‡§Ç ‡§§‡•á‡§∞‡•Ä ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•á‡§π‡§§ ‡§¶‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ö ‡§§‡•á‡§∞‡§æ ‡§∏‡§æ‡§• ‡§¶‡•á‡§£‡•á ‡§≤‡•á‡§à ‡§á‡§§‡•ç‡§•‡•à ‡§ê‡§Ç‡•§ ‡§Ö‡§ú‡•ç‡§ú ‡§§‡•Ç‡§Ç ‡§ï‡§ø‡§Ç‡§Ø‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç?"
                    }
                };

                // Find best translation match
                for (const [english, translated] of Object.entries(translations[language] || {})) {
                    if (response.includes(english)) {
                        response = response.replace(english, translated);
                    }
                }

                // If no direct translation found, provide a generic multilingual response
                if (response === arguments[0]) { // No translation occurred
                    const fallbackResponses = {
                        'hi': "‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Ç ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•Å‡§ù‡•á ‡§î‡§∞ ‡§¨‡§§‡§æ‡§è‡§Ç‡•§",
                        'ur': "ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©€å ÿ®ÿßÿ™ ÿ≥ŸÜ ÿ±€Åÿß €ÅŸà⁄∫ ÿßŸàÿ± ÿ¢Ÿæ ⁄©€å ŸÖÿØÿØ ⁄©ÿ±ŸÜÿß ⁄Üÿß€Åÿ™ÿß €ÅŸà⁄∫€î ÿ®ÿ±ÿßÿ¶€í ⁄©ÿ±ŸÖ ŸÖÿ¨⁄æ€í ŸÖÿ≤€åÿØ ÿ®ÿ™ÿßÿ¶€å⁄∫€î",
                        'ks': "‡§Ö‡§ú‡§º ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶ ‡§ó‡§≤‡•ç‡§≤ ‡§¨‡•Å‡§ú‡§æ‡§® ‡§õ‡•Å‡§∏ ‡§§ ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶ ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•Å‡§® ‡§ö‡§æ‡§π‡§æ‡§® ‡§õ‡•Å‡§∏‡•§ ‡§Æ‡•á‡§π‡§∞‡§¨‡§æ‡§®‡•Ä ‡§ï‡§∞‡§ø‡§Ø ‡§Æ‡•á ‡§π‡•ã‡§∞ ‡§µ‡§£‡§ø‡§µ‡•§",
                        'dg': "‡§Æ‡•à‡§Ç ‡§§‡•á‡§∞‡•Ä ‡§ó‡§≤‡•ç‡§≤ ‡§∏‡•Å‡§£‡§¶‡§æ ‡§ê‡§Ç ‡§§‡•á ‡§§‡•á‡§∞‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§£‡§æ ‡§ö‡§æ‡§π‡§Ç‡§¶‡§æ ‡§ê‡§Ç‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡§ø‡§ó‡•Ä ‡§π‡•ã‡§∞ ‡§¶‡§∏‡•ç‡§∏‡•§"
                    };
                    return fallbackResponses[language] || response;
                }

                return response;
            }

            getMotivationalQuote() {
                return this.motivationalQuotes[Math.floor(Math.random() * this.motivationalQuotes.length)];
            }

            getCheckInQuestion() {
                return this.checkInQuestions[Math.floor(Math.random() * this.checkInQuestions.length)];
            }
        }

        const mentalHealthAI = new MentalHealthAI();

        function appendAiMessage(message, senderType, showTime = true) {
            const messageBubble = document.createElement('div');
            messageBubble.classList.add('ai-message-bubble', senderType);

            const avatarDiv = document.createElement('div');
            avatarDiv.classList.add('ai-message-avatar');
            avatarDiv.textContent = senderType === 'ai' ? 'ü§ñ' : 'üë§';

            const contentDiv = document.createElement('div');
            contentDiv.classList.add('ai-message-content');

            const textDiv = document.createElement('div');
            textDiv.classList.add('message-text');
            textDiv.textContent = message;

            contentDiv.appendChild(textDiv);

            if (showTime) {
                const timeDiv = document.createElement('div');
                timeDiv.classList.add('message-time');
                timeDiv.textContent = new Date().toLocaleTimeString();
                contentDiv.appendChild(timeDiv);
            }

            messageBubble.appendChild(avatarDiv);
            messageBubble.appendChild(contentDiv);
            aiChatMessagesArea.appendChild(messageBubble);

            aiChatMessagesArea.scrollTop = aiChatMessagesArea.scrollHeight;
        }

        function showTypingIndicator() {
            typingIndicator.style.display = 'flex';
            aiChatMessagesArea.scrollTop = aiChatMessagesArea.scrollHeight;
        }

        function hideTypingIndicator() {
            typingIndicator.style.display = 'none';
        }

        function updateSuggestionChipsForLanguage(language) {
            const suggestions = {
                'en': [
                    "I'm feeling stressed",
                    "I'm having trouble sleeping",
                    "I feel anxious",
                    "I'm feeling sad today"
                ],
                'hi': [
                    "‡§Æ‡•Å‡§ù‡•á ‡§§‡§®‡§æ‡§µ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à",
                    "‡§Æ‡•Å‡§ù‡•á ‡§®‡•Ä‡§Ç‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§Ü ‡§∞‡§π‡•Ä",
                    "‡§Æ‡•Å‡§ù‡•á ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à",
                    "‡§Æ‡•à‡§Ç ‡§Ü‡§ú ‡§â‡§¶‡§æ‡§∏ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Ç"
                ],
                'ur': [
                    "ŸÖÿ¨⁄æ€í ÿ™ŸÜÿßÿ§ €ÅŸà ÿ±€Åÿß €Å€í",
                    "ŸÖÿ¨⁄æ€í ŸÜ€åŸÜÿØ ŸÜ€Å€å⁄∫ ÿ¢ ÿ±€Å€å",
                    "ŸÖÿ¨⁄æ€í ÿ®€í ⁄Ü€åŸÜ€å €ÅŸà ÿ±€Å€å €Å€í",
                    "ŸÖ€å⁄∫ ÿ¢ÿ¨ ÿßÿØÿßÿ≥ ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Åÿß €ÅŸà⁄∫"
                ],
                'ks': [
                    "‡§Æ‡•á ‡§§‡§®‡§æ‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§® ‡§õ‡•Å‡§∏",
                    "‡§Æ‡•á ‡§∏‡•Å‡§§‡•ç‡§§‡•Å‡§® ‡§Æ‡§Ç‡§ú‡§º ‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§õ‡§ø",
                    "‡§Æ‡•á ‡§´‡§º‡§ø‡§ï‡§∞ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§® ‡§õ‡•Å‡§∏",
                    "‡§Ö‡§ú‡§º ‡§ï‡§æ‡§≤ ‡§Ö‡§ú‡§º ‡§â‡§¶‡§æ‡§∏ ‡§õ‡•Å‡§∏"
                ],
                'dg': [
                    "‡§Æ‡§ø‡§ó‡•Ä ‡§§‡§®‡§æ‡§µ ‡§π‡•ã‡§Ü ‡§ê",
                    "‡§Æ‡§ø‡§ó‡•Ä ‡§®‡•Ä‡§Ç‡§¶ ‡§®‡•á‡§à‡§Ç ‡§Ü‡§Ç‡§¶‡•Ä",
                    "‡§Æ‡§ø‡§ó‡•Ä ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§π‡•ã‡§Ü ‡§ê",
                    "‡§Ö‡§ú‡•ç‡§ú ‡§Æ‡•à‡§Ç ‡§â‡§¶‡§æ‡§∏ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç"
                ]
            };

            const chipSuggestions = suggestions[language] || suggestions['en'];
            suggestionChips.innerHTML = '';

            chipSuggestions.forEach(suggestion => {
                const chip = document.createElement('button');
                chip.className = 'suggestion-chip';
                chip.textContent = suggestion;
                chip.onclick = () => sendSuggestion(suggestion);
                suggestionChips.appendChild(chip);
            });
        }

        function updateSuggestionChips(topic) {
            const suggestions = {
                stress: [
                    "Can you help me with relaxation techniques?",
                    "I need stress management tips",
                    "What are some quick stress relievers?",
                    "Tell me about mindfulness"
                ],
                anxiety: [
                    "What can I do about panic attacks?",
                    "Help me with grounding techniques",
                    "I need coping strategies",
                    "Tell me about breathing exercises"
                ],
                sadness: [
                    "How can I lift my mood?",
                    "What helps with depression?",
                    "I need motivation",
                    "Tell me about self-care"
                ],
                default: [
                    "How can I improve my mood?",
                    "Tell me about meditation",
                    "I need some motivation",
                    "Help me with self-care"
                ]
            };

            const chipSuggestions = suggestions[topic] || suggestions.default;
            suggestionChips.innerHTML = '';

            chipSuggestions.forEach(suggestion => {
                const chip = document.createElement('button');
                chip.className = 'suggestion-chip';
                chip.textContent = suggestion;
                chip.onclick = () => sendSuggestion(suggestion);
                suggestionChips.appendChild(chip);
            });
        }

        function sendSuggestion(message) {
            aiMessageInput.value = message;
            sendMessage();
        }

        function sendMessage() {
            const userMessage = aiMessageInput.value.trim();
            const selectedLanguage = languageSelect.value;

            if (userMessage) {
                appendAiMessage(userMessage, 'user');
                aiMessageInput.value = '';

                showTypingIndicator();

                // Simulate more natural response time (1-3 seconds)
                const responseDelay = 1000 + Math.random() * 2000;

                setTimeout(() => {
                    hideTypingIndicator();
                    const aiResponse = mentalHealthAI.generateResponse(userMessage, selectedLanguage);
                    appendAiMessage(aiResponse, 'ai');

                    // Update suggestion chips based on the conversation
                    const topic = mentalHealthAI.identifyTopic(userMessage.toLowerCase());
                    if (topic) {
                        updateSuggestionChips(topic);
                    }

                    // Occasionally offer additional resources
                    if (Math.random() > 0.8 && conversationContext.messageCount > 2) {
                        setTimeout(() => {
                            const resourceSuggestions = [
                                "Would you like me to guide you to our breathing exercises?",
                                "Have you tried our meditation resources?",
                                "Our community forum might have helpful discussions on this topic.",
                                "If you'd like professional support, check out our counseling resources."
                            ];
                            const suggestion = resourceSuggestions[Math.floor(Math.random() * resourceSuggestions.length)];
                            appendAiMessage(suggestion, 'ai');
                        }, 2000);
                    }
                }, responseDelay);
            }
        }

        sendAiMessageBtn.addEventListener('click', sendMessage);

        aiMessageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Handle language changes
        languageSelect.addEventListener('change', () => {
            const selectedLanguage = languageSelect.value;
            const welcomeMessages = {
                'en': "Language updated to English! I'm here to support you. How are you feeling today?",
                'hi': "‡§≠‡§æ‡§∑‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§ó‡§à! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§æ‡§• ‡§¶‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Ç ‡§π‡•Ç‡§Ç‡•§ ‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?",
                'ur': "ÿ≤ÿ®ÿßŸÜ ÿßÿ±ÿØŸà ŸÖ€å⁄∫ ÿßŸæ ⁄à€åŸπ €ÅŸà ⁄Øÿ¶€å! ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©ÿß ÿ≥ÿßÿ™⁄æ ÿØ€åŸÜ€í ⁄©€í ŸÑ€å€í €å€Åÿß⁄∫ €ÅŸà⁄∫€î ÿ¢ÿ¨ ÿ¢Ÿæ ⁄©€åÿ≥ÿß ŸÖÿ≠ÿ≥Ÿàÿ≥ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫ÿü",
                'ks': "‡§ú‡§º‡§¨‡§æ‡§® ‡§ï‡•â‡§∂‡•Å‡§∞ ‡§Æ‡§Ç‡§ú‡§º ‡§Ö‡§™‡§°‡•á‡§ü ‡§ó‡•ã! ‡§Ö‡§ú‡§º ‡§õ‡•Å‡§∏ ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶ ‡§∏‡§æ‡§• ‡§¶‡§ø‡§®‡§ø ‡§¨‡§æ‡§™ ‡§Ø‡§§‡•§ ‡§Ü‡§ú‡§º ‡§ï‡§æ‡§≤ ‡§§‡•Å‡§π‡§ø ‡§ï‡•à‡§Ç‡§π ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§æ‡§® ‡§õ‡§ø?",
                'dg': "‡§≠‡§æ‡§∑‡§æ ‡§°‡•ã‡§ó‡§∞‡•Ä ‡§ö ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã‡§à ‡§ó‡•á‡§à! ‡§Æ‡•à‡§Ç ‡§§‡•á‡§∞‡§æ ‡§∏‡§æ‡§• ‡§¶‡•á‡§£‡•á ‡§≤‡•á‡§à ‡§á‡§§‡•ç‡§•‡•à ‡§ê‡§Ç‡•§ ‡§Ö‡§ú‡•ç‡§ú ‡§§‡•Ç‡§Ç ‡§ï‡§ø‡§Ç‡§Ø‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç?"
            };

            appendAiMessage(welcomeMessages[selectedLanguage] || welcomeMessages['en'], 'ai');

            // Update suggestion chips for the selected language
            updateSuggestionChipsForLanguage(selectedLanguage);
        });

        // Auto-suggestions based on time of day
        window.addEventListener('load', () => {
            const hour = new Date().getHours();
            const selectedLanguage = languageSelect.value;

            const timeBasedMessages = {
                'en': {
                    morning: "Good morning! How are you starting your day?",
                    afternoon: "Good afternoon! How has your day been so far?",
                    evening: "Good evening! How are you winding down today?"
                },
                'hi': {
                    morning: "‡§∏‡•Å‡§™‡•ç‡§∞‡§≠‡§æ‡§§! ‡§Ü‡§™ ‡§Ö‡§™‡§®‡§æ ‡§¶‡§ø‡§® ‡§ï‡•à‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?",
                    afternoon: "‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Ö‡§¨ ‡§§‡§ï ‡§Ü‡§™‡§ï‡§æ ‡§¶‡§ø‡§® ‡§ï‡•à‡§∏‡§æ ‡§∞‡§π‡§æ ‡§π‡•à?",
                    evening: "‡§∂‡•Å‡§≠ ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ! ‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•à‡§∏‡•á ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?"
                },
                'ur': {
                    morning: "ÿµÿ®ÿ≠ ÿ®ÿÆ€åÿ±! ÿ¢Ÿæ ÿßŸæŸÜÿß ÿØŸÜ ⁄©€åÿ≥€í ÿ¥ÿ±Ÿàÿπ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫ÿü",
                    afternoon: "ÿØŸàŸæ€Åÿ± ÿ®ÿÆ€åÿ±! ÿßÿ® ÿ™⁄© ÿ¢Ÿæ ⁄©ÿß ÿØŸÜ ⁄©€åÿ≥ÿß ÿ±€Åÿß €Å€íÿü",
                    evening: "ÿ¥ÿßŸÖ ÿ®ÿÆ€åÿ±! ÿ¢ÿ¨ ÿ¢Ÿæ ⁄©€åÿ≥€í ÿ¢ÿ±ÿßŸÖ ⁄©ÿ± ÿ±€Å€í €Å€å⁄∫ÿü"
                },
                'ks': {
                    morning: "‡§∂‡•Å‡§≠ ‡§™‡•ç‡§∞‡§≠‡§æ‡§§! ‡§§‡•Å‡§π‡§ø ‡§Ö‡§™‡§®‡§æ‡§π ‡§¶‡•ã‡§π ‡§ï‡•à‡§Ç‡§π ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§æ‡§® ‡§õ‡§ø?",
                    afternoon: "‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Ö‡§¨‡•á ‡§§‡§ï ‡§§‡•Å‡§π‡•Å‡§Ç‡§¶ ‡§¶‡•ã‡§π ‡§ï‡•à‡§Ç‡§π ‡§ó‡•ã?",
                    evening: "‡§∂‡•Å‡§≠ ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ! ‡§Ü‡§ú‡§º ‡§ï‡§æ‡§≤ ‡§§‡•Å‡§π‡§ø ‡§ï‡•à‡§Ç‡§π ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§∞‡§æ‡§® ‡§õ‡§ø?"
                },
                'dg': {
                    morning: "‡§∂‡•Å‡§≠ ‡§™‡•ç‡§∞‡§≠‡§æ‡§§! ‡§§‡•Ç‡§Ç ‡§Ö‡§™‡§®‡§æ ‡§¶‡§ø‡§® ‡§ï‡§ø‡§Ç‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç?",
                    afternoon: "‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞! ‡§Ö‡§¨‡•ç‡§¨‡•à ‡§§‡§ï ‡§§‡•á‡§∞‡§æ ‡§¶‡§ø‡§® ‡§ï‡§ø‡§Ç‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§ê?",
                    evening: "‡§∂‡•Å‡§≠ ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ! ‡§Ö‡§ú‡•ç‡§ú ‡§§‡•Ç‡§Ç ‡§ï‡§ø‡§Ç‡§Ø‡§æ ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§∞‡§¶‡§æ ‡§ê‡§Ç?"
                }
            };

            let timeBasedSuggestion = '';
            const messages = timeBasedMessages[selectedLanguage] || timeBasedMessages['en'];

            if (hour < 12) {
                timeBasedSuggestion = messages.morning;
            } else if (hour < 17) {
                timeBasedSuggestion = messages.afternoon;
            } else {
                timeBasedSuggestion = messages.evening;
            }

            setTimeout(() => {
                appendAiMessage(timeBasedSuggestion, 'ai');
            }, 3000);
        });

        // Periodic check-ins for longer conversations
        setInterval(() => {
            if (conversationContext.messageCount > 10 && Math.random() > 0.7) {
                const checkIn = mentalHealthAI.getCheckInQuestion();
                setTimeout(() => {
                    appendAiMessage("I wanted to check in with you: " + checkIn, 'ai');
                }, 1000);
            }
        }, 300000); // Every 5 minutes
    </script>
</body>

</html>